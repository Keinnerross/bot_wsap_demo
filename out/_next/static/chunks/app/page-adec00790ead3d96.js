(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9808:(e,s,t)=>{Promise.resolve().then(t.bind(t,5597))},550:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var l=t(5155),a=t(1536);let i=()=>(0,l.jsx)("div",{className:"flex flex-col justify-center items-center gap-4 h-screen bg-[#fbc2c8]",children:(0,l.jsx)(a.hW,{className:"animate-spin text-4xl",size:40})})},5597:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var l=t(5155),a=t(2115),i=t(6046),r=t(8897),n=t.n(r),o=t(2461),c=t(550),d=t(1536);let u=()=>{let[e,s]=(0,a.useState)(""),[t,r]=(0,a.useState)(""),[u,f]=(0,a.useState)(!0);return((0,i.useRouter)(),(0,a.useEffect)(()=>{let e=localStorage.getItem("token");e?o.s.emit("check-auth",{token:e}):o.s.emit("check-auth");let s=e=>{e.authenticated?window.location.href="/dashboard":f(!1)};return o.s.on("auth-status",s),()=>{o.s.off("auth-status",s)}},[]),(0,a.useEffect)(()=>{let e=e=>{n().fire({icon:"success",title:"Login Exitoso",confirmButtonText:"OK"}).then(()=>{localStorage.setItem("token",e.token),window.location.href="/dashboard"})},s=e=>{n().fire({icon:"error",title:"Login Failed",text:e.message,confirmButtonText:"Try Again"})};return o.s.on("login-success",e),o.s.on("login-error",s),()=>{o.s.off("login-success",e),o.s.off("login-error",s)}},[]),u)?(0,l.jsx)(c.A,{}):(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)("div",{className:"w-full h-screen bg-[#fbc2c8]  items-center justify-center fixed z-50 flex md:hidden",children:(0,l.jsx)("p",{className:"font-semibold text-center px-4",children:"     AplicaciÃ³n solo disponible en escritorio  "})}),(0,l.jsxs)("div",{className:"w-full h-screen bg-[#fbc2c8] hidden md:flex",children:[(0,l.jsx)("div",{className:"w-1/2 h-full bg-no-repeat bg-[url('/bg-login.png')] bg-[position:0_150px] bg-[size:80%] relative",children:(0,l.jsxs)("div",{className:"absolute top-10 left-24 text-text font-semibold text-xl flex gap-2 items-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:(0,l.jsx)("img",{src:"/logo-fresata.jpg",alt:"Logo",style:{width:"180%",height:"180%",objectFit:"cover",transform:"translate(0%, -22%)"}})}),(0,l.jsx)("p",{children:"FRESATA \xae | Fresas con crema"})]})}),(0,l.jsx)("div",{className:"w-1/2 h-full flex justify-center items-center",children:(0,l.jsxs)("div",{className:"loginContainer w-1/2 min-w-[400px] max-w-[400px]  p-8 bg-white rounded-3xl shadow-lg",children:[(0,l.jsx)("h1",{className:"py-2 text-2xl font-semibold",children:"Inicia Sesi\xf3n"}),(0,l.jsx)("p",{className:"max-w-[99%] pb-2 text-gray-500 text-sm font-light leading-6",children:"Por favor ingresa tus credenciales para acceder a tu cuenta."}),(0,l.jsxs)("form",{id:"loginForm",className:"text-left",onSubmit:s=>{s.preventDefault(),o.s.emit("login",{username:e,password:t})},children:[(0,l.jsx)("div",{className:"flex flex-col gap-1 py-2",children:(0,l.jsxs)("div",{className:"!bg-[#ECF0F1] h-12 px-4 rounded-full flex items-center gap-4 ",children:[(0,l.jsx)(d.K9B,{fill:"lightgray"}),(0,l.jsx)("input",{type:"text",id:"username",name:"username",placeholder:"Usuario",className:"w-full h-full bg-transparent",required:!0,value:e,onChange:e=>s(e.target.value)})]})}),(0,l.jsx)("div",{className:"flex flex-col gap-1 py-2",children:(0,l.jsxs)("div",{className:"!bg-[#ECF0F1] h-12 px-4 rounded-full flex items-center gap-4",children:[(0,l.jsx)(d.pXu,{fill:"lightgray"}),(0,l.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Contrase\xf1a",className:"w-full h-full bg-transparent",required:!0,value:t,onChange:e=>r(e.target.value)})]})}),(0,l.jsx)("button",{className:"w-full bg-red-700 text-white border-2 border-red-700 py-3 px-5 text-lg font-semibold rounded-full mt-4 transition-colors duration-300 ease-in-out hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",type:"submit",children:"Iniciar sesi\xf3n"})]})]})})]})]})}},2461:(e,s,t)=>{"use strict";t.d(s,{s:()=>l});let l=(0,t(1319).io)(void 0)}},e=>{var s=s=>e(e.s=s);e.O(0,[711,320,486,441,517,358],()=>s(9808)),_N_E=e.O()}]);